<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ackurat.github.io</title>
    <link>https://ackurat.github.io</link>
    <description>Recent content on ackurat.github.io</description>
    <language>en-us</language>
    <managingEditor>Adam CL (mail@mail.com)</managingEditor>
    <webMaster>Adam CL (mail@mail.com)</webMaster>
    <copyright>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</copyright>
    <lastBuildDate>Tue, 11 Feb 2025 11:02:18 +0000</lastBuildDate>
    <atom:link type="application/rss+xml" rel="self" href="https://ackurat.github.io/index.xml"/>
    <item>
      <title>Once again rewriting the site</title>
      <link>https://ackurat.github.io/once-again-rewriting-the-site/</link>
      <pubDate>Sat, 08 Feb 2025 06:00:00 +0000</pubDate>
      <author>Adam CL (mail@mail.com)</author>
      <guid>https://ackurat.github.io/once-again-rewriting-the-site/</guid>
      <description>&lt;p&gt;
Once again I’m rewriting the site. I never got around to finishing my &lt;a href=&quot;https://zine-ssg.io&quot;&gt;Zine&lt;/a&gt; implementation, partly because I didn’t have time to invest into learning Zig. I’ll soon start a new job where I’ll use &lt;a href=&quot;https://elixir-lang.org&quot;&gt;Elixir&lt;/a&gt; and &lt;a href=&quot;https://erlang.org&quot;&gt;Erlang&lt;/a&gt; as my main languages. I haven’t used Erlang much before, but Elixir has been a lurking favourite, and with my experiments with &lt;a href=&quot;https://gleam.run&quot;&gt;Gleam&lt;/a&gt; I found renewed interest in it.&lt;/p&gt;
&lt;p&gt;
The site uses &lt;a href=&quot;https://github.com/dashbitco/nimble_publisher&quot;&gt;NimblePublisher&lt;/a&gt; and &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view&quot;&gt;LiveView&lt;/a&gt; &lt;code class=&quot;inline&quot;&gt;HEEx&lt;/code&gt; templates. The basis for the site is &lt;a href=&quot;https://fly.io/phoenix-files/crafting-your-own-static-site-generator-using-phoenix/&quot;&gt;Jason Stiebe’s tutorial&lt;/a&gt;, and after I had implemented a rudimentary version I forked &lt;a href=&quot;https://jorin.me/&quot;&gt;Jorin’s website&lt;/a&gt; and started rebuilding it to my liking. Kudos to both these for saving me time! Unlike Jorin, I don’t have a desire to create my site generator from scratch, but I’ll happily spend time refactoring and tinkering.&lt;/p&gt;
&lt;h2 id=&quot;upcoming-changes&quot;&gt;
&lt;a href=&quot;#upcoming-changes&quot;&gt;Upcoming changes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
Inspired by &lt;a href=&quot;https://www.jonashietala.se/blog/2024/07/09/microfeatures_in_my_blog/&quot;&gt;Jonas Hietala’s microfeatures&lt;/a&gt;, I have some features I want to implement. Just like he states, microfeatures are fun and a way to learn. For instance, I’ve already implemented headings with automatic linking. It was pretty straight forward - reimplement the parsing of headings to add markdown links, and add a postprocessor to add the anchor ID to the headings:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;makeup elixir&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# parser.ex&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;defp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace_heading&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-1&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-2&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;starts_with?&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-3&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;## &quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-3&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-4&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-5&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;## &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-5&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downcase&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-6&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-6&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-7&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;~r/[^a-z]+/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-7&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-8&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-8&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

    &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;## [&lt;/span&gt;&lt;span class=&quot;si&quot; data-group-id=&quot;6034401063-9&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;si&quot; data-group-id=&quot;6034401063-9&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;](#&lt;/span&gt;&lt;span class=&quot;si&quot; data-group-id=&quot;6034401063-10&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;si&quot; data-group-id=&quot;6034401063-10&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-4&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-2&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# processor.ex&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-11&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-12&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;h2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-13&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-13&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-14&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-14&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-15&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-15&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-12&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-11&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-16&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-17&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-18&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-19&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-20&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anchor_id&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-20&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-19&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-18&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-21&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;h2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-22&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-23&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anchor_id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-24&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-24&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-23&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-22&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-25&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-25&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-26&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-26&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-21&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-27&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;h2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-28&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-28&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-29&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-29&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-30&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-30&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;6034401063-27&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-17&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot; data-group-id=&quot;6034401063-16&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;
Djot support&lt;/h3&gt;
&lt;p&gt;
One microfeature I really like in Jonas’ blog is syntax highlighting in inline code. I could solve this by either writing the inline code as HTML:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;This is some markdown with inline Elixir code: &lt;code class=&quot;makeup elixir&quot;&gt;def process(value), do: value&lt;/code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Unfortunately, the markdown parser used by NimblePublisher, &lt;a href=&quot;https://github.com/pragdave/earmark&quot;&gt;Earmark&lt;/a&gt; doesn’t support inline HTML. It’s probably solvable by using a postprocessor, but that feels like a tedious rabbit hole. Instead, I want to take the same &lt;a href=&quot;https://www.jonashietala.se/blog/2024/02/02/blogging_in_djot_instead_of_markdown/&quot;&gt;path as Jonas&lt;/a&gt; and use &lt;a href=&quot;https://www.djot.net/&quot;&gt;Djot&lt;/a&gt; to write content. Djot supports adding &lt;a href=&quot;https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html#inline-attributes&quot;&gt;inline attributes&lt;/a&gt; which could be used like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;This is some markdown with inline Elixir code: `def process(value), do: value`{.makeup .elixir}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
There are more features of Djot I could use, for instance footnotes.&lt;/p&gt;
&lt;h3&gt;
Less hand-written CSS&lt;/h3&gt;
&lt;p&gt;
I’m using &lt;a href=&quot;https://tailwindcss.com/&quot;&gt;TailwindCSS&lt;/a&gt; to lessen the need of writing CSS, but since I use Earmark to produce the HTML of the post you’re reading right now, it’s not simple to use Tailwind for styling within the generated HTML. Instead, I’ve resorted to hand-writing CSS. I’m trying to minimize it and if I switch to Djot, I’ll see if it’s easier to have a post processing step to add Tailwind classes to the generated HTML.&lt;/p&gt;
&lt;h3&gt;
Typography improvements&lt;/h3&gt;
&lt;p&gt;
The styling and typography is very basic right now. I like it basic, but I still think there is room for improvement. For instance, the header of this section is not very well separated stylistically.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Exploring gleam through advent of code</title>
      <link>https://ackurat.github.io/exploring-gleam-through-advent-of-code/</link>
      <pubDate>Mon, 11 Nov 2024 06:00:00 +0000</pubDate>
      <author>Adam CL (mail@mail.com)</author>
      <guid>https://ackurat.github.io/exploring-gleam-through-advent-of-code/</guid>
      <description>&lt;p&gt;
&lt;a href=&quot;https://gleam.run&quot;&gt;Gleam&lt;/a&gt; is a statically typed functional programming language that gets compiled to either &lt;a href=&quot;https://en.wikipedia.org/wiki/BEAM_(Erlang_virtual_machine)&quot;&gt;BEAM&lt;/a&gt; or JavaScript. Its syntax is more akin to &lt;a href=&quot;https://rust-lang.org&quot;&gt;Rust&lt;/a&gt; than other BEAM languages such as &lt;a href=&quot;https://elixir-lang.org&quot;&gt;Elixir&lt;/a&gt; and &lt;a href=&quot;https://erlang.org&quot;&gt;Erlang&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;gleam&quot;&gt;pub fn split(x: String, on substring: String) -&gt; List(String) {
  case substring {
    &quot;&quot; -&gt; to_graphemes(x)
    _ -&gt;
      x
      |&gt; string_builder.from_string
      |&gt; string_builder.split(on: substring)
      |&gt; list.map(with: string_builder.to_string)
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;why-i-chose-gleam&quot;&gt;
&lt;a href=&quot;#why-i-chose-gleam&quot;&gt;Why I Chose Gleam&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
First and foremost, I wanted to try something new. Gleam ticked quite a few of the boxes of things I like in a language:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
Static type system  &lt;/li&gt;
  &lt;li&gt;
Immutability  &lt;/li&gt;
  &lt;li&gt;
Compiled  &lt;/li&gt;
  &lt;li&gt;
Built-in tooling  &lt;/li&gt;
  &lt;li&gt;
Decent standard library  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
For the purpose of AoC, it’s mainly the type system, tooling and standard library I’m choosing Gleam. I might take on doing something more complicated (and distributed) afterwards.&lt;/p&gt;
&lt;h2 id=&quot;first-impressions&quot;&gt;
&lt;a href=&quot;#first-impressions&quot;&gt;First Impressions&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
As I usually work in procedural languages, getting into the strictly functional paradigm has been the biggest hurdle. Don’t get me wrong - I often use the functional style functions of JS, but due to its mutability and dynamic typing, it’s far from Gleam. I’ve previously delved into Elixir, and while it is also functional it’s got the dynamic typing to make it less of a jump. After completing the first 8 days of AoC, I’m getting used to it and I see the light that is immutability. In the codebase I spend most time in at work, there’s plenty of functionality that modifies in-place, causing both confusion and bugs for developers who are new to the code.&lt;/p&gt;
&lt;h3&gt;
Missed Functionality #1 - list access by index&lt;/h3&gt;
&lt;p&gt;
When it comes to AoC, it’s very common to work with arrays/lists, for instance in a matrix:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;matrix = [[&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;], [&amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;]]
matrix[0][0] # &amp;#39;a&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Let’s say then that a task requires shifting rows by 1:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;def shift_row_right(matrix, row_index, n):
    row = matrix[row_index]
    n = n % len(row)
    shifted_row = row[-n:] + row[:-n]
    matrix[row_index] = shifted_row
    return matrix

shift_row_right(matrix, 0, 1) # [[&amp;#39;b&amp;#39;, &amp;#39;a&amp;#39;], [&amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Performance aside, this is a very simple and neat way of accessing elements in a list. There’s no need to iterate over the rows. In Gleam, you can’t access lists by index. Instead, you have to iterate through the list until you’re on the right index. Pairing this with the immutability means that shifting rows as above is a bit more tedious. For AoC 2016 day 8, this was the solution I came up with for shifting rows with wrap around:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;gleam&quot;&gt;pub fn shift_row_right(
  matrix: Matrix(value),
  row: Int,
  shift: Int,
) -&gt; Matrix(value) {
  Matrix(
    cells: list.index_map(matrix.cells, fn(current_row, row_index) {
      case row_index == row {
        True -&gt; {
          current_row
          |&gt; list.split(list.length(current_row) - shift)
          |&gt; fn(split) { list.append(split.1, split.0) }
        }
        False -&gt; current_row
      }
    }),
  )
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
We first have to iterate through all the rows, and in case of being on the wrong row we just return it as is. In case of being on the right row, we then need to construct a new row by iterating over the row, first to split it and then over the first part of the new list (&lt;code class=&quot;inline&quot;&gt;split.1&lt;/code&gt;) in the &lt;code class=&quot;inline&quot;&gt;list.append&lt;/code&gt; function.&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Setting up a site with zine</title>
      <link>https://ackurat.github.io/setting-up-a-site-with-zine/</link>
      <pubDate>Sun, 27 Oct 2024 06:00:00 +0000</pubDate>
      <author>Adam CL (mail@mail.com)</author>
      <guid>https://ackurat.github.io/setting-up-a-site-with-zine/</guid>
      <description>&lt;h2 id=&quot;first-steps&quot;&gt;
&lt;a href=&quot;#first-steps&quot;&gt;First Steps&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
Were me just copying the Zine creator &lt;a href=&quot;https://kristoff.it/&quot;&gt;Kristoff’s&lt;/a&gt; personal website, and then started tailoring it to my liking. I’m by no means a designer nor a frontend developer, but I’m happy with the result so far. I’ll continue to tweak the layout and design, for instance by implementing my favorite color scheme, Catppuccin.&lt;/p&gt;
&lt;h2 id=&quot;what-i-like-about-zine&quot;&gt;
&lt;a href=&quot;#what-i-like-about-zine&quot;&gt;What I like About Zine&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
I like the simplicity of Zine, and it’s been really simple to understand how both routing and rendering works. It gets out of my way. &lt;code class=&quot;inline&quot;&gt;SuperMD&lt;/code&gt; and &lt;code class=&quot;inline&quot;&gt;SuperHTML&lt;/code&gt; are also nice to work with, but I’ve yet to see both the full potential of them and the limitations. I’ve previously worked with for instance &lt;code class=&quot;inline&quot;&gt;Templ&lt;/code&gt; to generate HTML, so I’m excited to see how Zine compares.&lt;/p&gt;
&lt;h2 id=&quot;what-s-next&quot;&gt;
&lt;a href=&quot;#what-s-next&quot;&gt;What’s Next&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
There are some things with the site that are far from finished. For instance, the CSS is a mess, as I’ve used Kristoff’s CSS as a base and then just added some of my own. It needs cleaning up.&lt;/p&gt;
&lt;h3&gt;
Tags&lt;/h3&gt;
&lt;p&gt;
I’m adding tags to this post, but so far there’s no way to filter posts by tags. I’ll have to implement that.&lt;/p&gt;
&lt;h3&gt;
RSS ✅&lt;/h3&gt;
&lt;p&gt;
I’m a big fan of RSS, and it’s my preferred way of reading blogs. I’ve used Kristoff’s RSS implementation as a base, but there’s one limitation that I want to work on - there’s no way to render the full content of a post in the feed, since it’s a subpage. This is a limitation of Zine itself, so if I want to change this I’ll have to dig into the Zine source code and try to implement it.&lt;/p&gt;
&lt;p&gt;
The limitation can be seen in this excerpt from the RSS template, where I’m trying to render the full content of a post. This errors out with &lt;code class=&quot;inline&quot;&gt;only the main page can be rendered for now, sorry!&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;makeup html&quot;&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-1&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$page.subpages()&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-1&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-2&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-2&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&lt;!-- 
      Here goes the rest of the RSS info for the post
    --&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-3&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$loop.it.content()&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-3&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-4&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-4&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-5&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-5&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-6&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;2444518535-6&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;
Update&lt;/h4&gt;
&lt;p&gt;
I’ve implemented a full RSS feed, which is kind of a hack but it ain’t stupid if it works. The solution revolves around fetching the content sections of a page, and then generating the HTML for each section. This is how the XML for the RSS feed looks like now:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;makeup html&quot;&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-1&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$page.subpages()&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-1&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-2&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-2&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-3&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$loop.it.title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-3&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-4&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-4&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&lt;!-- 
      Here goes the rest of the RSS info for the post
    --&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-5&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$site.page($loop.it.link()).contentSections()&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-5&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-6&quot;&gt;&lt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;:text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$loop.it.html()&quot;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-6&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-7&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-7&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-8&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-8&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-9&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-9&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-10&quot;&gt;&lt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot; data-group-id=&quot;4156693165-10&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
And the corresponding change to the post:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#### [Heading]($section.id(&quot;heading&quot;))

Text goes here...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
An added benefit of this is that the headers are clickable, which is included in the table of contents of the post.&lt;/p&gt;
</description>
    </item>
  </channel>
</rss>